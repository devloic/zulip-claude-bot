services:
  bot:
    build: .
    restart: unless-stopped
    env_file: .env
    environment:
      - CLAUDE_CWD=/workspace
    volumes:
      # Persist claude CLI login credentials across restarts
      - claude-credentials:/home/bot/.claude
      # Mount a codebase for Claude's file tools (Read, Grep, Glob, Bash)
      - ${CLAUDE_CWD:-.}:/workspace:ro

volumes:
  claude-credentials: